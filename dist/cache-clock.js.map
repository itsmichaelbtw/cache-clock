{"version":3,"file":"cache-clock.js","sources":["../lib/utils.ts","../lib/environment.ts","../lib/debug.ts","../lib/hash.ts","../lib/cache-clock.ts"],"sourcesContent":["export function isUndefined(value: unknown): value is undefined {\n    return typeof value === \"undefined\";\n}\n\nexport function isPureObject(value: unknown): value is Record<string, unknown> {\n    return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\n\nexport function isNumber(value: unknown): value is number {\n    return typeof value === \"number\" && !isNaN(value);\n}\n\nexport function isFunction(value: unknown): value is Function {\n    return typeof value === \"function\";\n}\n\nexport function isString(value: unknown): value is string {\n    return typeof value === \"string\";\n}\n\nexport function isNegative(value: number): boolean {\n    return value < 0;\n}\n\nexport function absolute(value: number): number {\n    return Math.abs(value);\n}\n\nexport function shallowMerge<T = any, U = any>(target: T, source: U): T & U {\n    return Object.assign({}, target, source);\n}\n\nexport function stringify(value: unknown): string {\n    if (isUndefined(value)) {\n        return \"\";\n    }\n\n    if (isString(value)) {\n        return value;\n    }\n\n    return JSON.stringify(value);\n}\n","export type EnvironmentContext = \"node\" | \"browser\" | \"unknown\";\n\nfunction getCurrentEnvironment(): EnvironmentContext {\n    if (\n        typeof window !== \"undefined\" &&\n        typeof window.document !== \"undefined\"\n    ) {\n        return \"browser\";\n    }\n\n    if (\n        typeof process !== \"undefined\" &&\n        process.versions &&\n        process.versions.node\n    ) {\n        return \"node\";\n    }\n\n    return \"unknown\";\n}\n\nexport const environment = getCurrentEnvironment();\n","const colors = {\n    red: \"\\x1b[31m\",\n    yellow: \"\\x1b[33m\",\n    green: \"\\x1b[32m\",\n    lightblue: \"\\x1b[36m\"\n};\n\nconst globals = {\n    reset: \"\\x1b[0m\",\n    bright: \"\\x1b[1m\"\n};\n\nexport type DebugColors = keyof typeof colors;\n\nexport function debug(message: string, color: DebugColors) {\n    if (debug.DEBUG) {\n        const prefix = \"[CACHE-CLOCK] \";\n        const colorizedMessage = `${colors[color]}${prefix}${message}${globals.reset}`;\n\n        console.log(colorizedMessage);\n    }\n}\n\ndebug.DEBUG = false;\n","export function hash(input: string): string {\n    if (typeof input !== \"string\") {\n        input = JSON.stringify(input);\n    }\n\n    const numberHash = input.split(\"\").reduce((a, b) => {\n        a = (a << 5) - a + a * 24 + b.charCodeAt(0);\n        a |= 0;\n        return a;\n    }, 0);\n\n    return numberHash.toString(32);\n}\n","import {\n    isUndefined,\n    isPureObject,\n    isNumber,\n    isNegative,\n    absolute,\n    shallowMerge,\n    stringify,\n    isFunction\n} from \"../lib/utils\";\n\nimport { environment } from \"./environment\";\nimport { debug } from \"./debug\";\nimport { hash } from \"./hash\";\n\nconst timeProvider = Date;\n\ntype ClockMap = Map<string, CacheEntry>;\ntype CacheTTL = number;\n\ntype Timeout = number | NodeJS.Timeout;\n\nexport interface CacheEntry<T = any> {\n    /**\n     * Hashed key of the item.\n     */\n    k: string;\n    /**\n     * Value passed to be stored.\n     */\n    v: T;\n    /**\n     * The time to live for the item. If `Infinity`, the item will never expire.\n     */\n    t: number;\n    /**\n     * The time this item will expire.\n     */\n    e: number;\n}\n\nexport interface ClockOptions {\n    /**\n     * The maximum number of items to store in the cache.\n     *\n     * If you wish to disable the maximum number of items check, thought this\n     * s not recommended, set this value to `Infinity`.\n     *\n     * Note: Setting this value to 0 will be treated as 1.\n     *\n     * Defaults to `1000`.\n     */\n    maxItems?: number;\n    /**\n     * The default time to live for items in the cache.\n     *\n     * Defaults to `Infinity`.\n     *\n     */\n    ttl?: CacheTTL;\n    /**\n     * The interval in `ms` to check for expired items. It is recommended\n     * to keep this value above `15 seconds` for optimal performance. If you expect\n     * to have a large number of items in the cache, you may want to increase\n     * this value to reduce the number of checks.\n     *\n     * Throughout the life-cycle of a cache clock, items are automatically checked\n     * for expiration when accessing methods such as `set`, `get`, etc. This value is only used\n     * to check for expired items when the cache clock is idle.\n     *\n     * Defaults to `15 seconds`.\n     */\n    interval?: number;\n    /**\n     * Programatically determine if you wish for the clock to auto start.\n     *\n     * This only works when first initializing the clock. If you wish to\n     * start or stop the clock after initialization, use the `start` and `stop`\n     * methods.\n     *\n     * Defaults to `true`.\n     */\n    autoStart?: boolean;\n    /**\n     * When setting an item, if an entry already exists with the same key,\n     * choose whether to overwrite the existing entry or not.\n     *\n     * Defaults to `false`.\n     */\n    overwrite?: boolean;\n    /**\n     * When getting an item, indicate if you wish to reset the expiration\n     * time of the item. This includes when a duplicate item is found before\n     * attempting to set a new item.\n     *\n     * This will reset the expiration relative to the current time.\n     *\n     * Affected methods: `get`, `has` and `set` (when a duplicate is found).\n     *\n     * Defaults to `false`.\n     */\n    resetTimeoutOnAccess?: boolean;\n    /**\n     * Log debug messages to the console.\n     */\n    debug?: boolean;\n    /**\n     * A function to call when an item has expired. This is called exclusively\n     * when an item has expired and is removed from the cache via the internal clock.\n     */\n    onExpire?(entry: CacheEntry): void;\n}\n\nexport interface CacheStatistics {\n    /**\n     * The number of times the cache was accessed.\n     */\n    hits: number;\n    /**\n     * The number of items that were added to the cache.\n     */\n    sets: number;\n    /**\n     * The number of times the cache was accessed and\n     * no item was found.\n     */\n    misses: number;\n    /**\n     * The number of items that were removed from the\n     * cache due to `maxItems` overflowing.\n     */\n    evictions: number;\n    /**\n     * The number of items that were removed from the\n     * cache due to expiration.\n     */\n    expired: number;\n    /**\n     * The number of items that were deleted from the\n     * cache.\n     */\n    deletes: number;\n    /**\n     * The number of items that were overwritten.\n     */\n    overwrites: number;\n    /**\n     * The number of times the cache was cleared.\n     */\n    clears: number;\n    /**\n     * The number of life-cycle events that were triggered.\n     */\n    lifecycles: number;\n}\n\ntype CacheSetterOptions = Pick<ClockOptions, \"ttl\" | \"overwrite\">;\n\nconst DEFAULT_CLOCK_OPTIONS: ClockOptions = {\n    maxItems: 1000,\n    ttl: Infinity,\n    interval: 15 * 1000,\n    debug: false,\n    autoStart: true,\n    overwrite: false,\n    resetTimeoutOnAccess: false\n};\n\nfunction invokeTimeout(callback: Function, delay: number): Timeout {\n    const timeout =\n        environment === \"node\" ? global.setTimeout : window.setTimeout;\n\n    return timeout.call(null, callback, delay);\n}\n\nfunction parseCacheOptions(\n    options: ClockOptions = {},\n    defaultOptions: ClockOptions\n): ClockOptions {\n    if (!isPureObject(options)) {\n        debug(\n            \"Invalid options passed to cache clock, using defaults.\",\n            \"yellow\"\n        );\n        return defaultOptions;\n    }\n\n    const opts = shallowMerge(defaultOptions, options);\n\n    if (isNumber(opts.maxItems) && isNegative(opts.maxItems)) {\n        opts.maxItems = absolute(opts.maxItems);\n    } else if (!isNumber(opts.maxItems)) {\n        opts.maxItems = defaultOptions.maxItems;\n    }\n\n    if (isNumber(opts.ttl) && isNegative(opts.ttl)) {\n        opts.ttl = absolute(opts.ttl);\n    } else if (!isNumber(opts.maxItems)) {\n        opts.ttl = defaultOptions.ttl;\n    }\n\n    if (isNumber(opts.interval) && isNegative(opts.interval)) {\n        opts.interval = absolute(opts.interval);\n    } else if (!isNumber(opts.interval)) {\n        opts.interval = defaultOptions.interval;\n    }\n\n    if (opts.onExpire && !isFunction(opts.onExpire)) {\n        opts.onExpire = undefined;\n    }\n\n    if (opts.maxItems === 0) {\n        opts.maxItems = 1;\n    }\n\n    return opts;\n}\n\nfunction createEntityKey(key: string, isHashed: boolean): string {\n    if (isHashed) {\n        return key;\n    }\n\n    return hash(stringify(key));\n}\n\nconst DEFAULT_STATISTCS: CacheStatistics = {\n    hits: 0,\n    sets: 0,\n    misses: 0,\n    evictions: 0,\n    expired: 0,\n    deletes: 0,\n    overwrites: 0,\n    clears: 0,\n    lifecycles: 0\n};\n\nexport class CacheClock {\n    private readonly $birth: number;\n    private readonly $cache: ClockMap;\n\n    private $clock: Timeout;\n    private $options: ClockOptions;\n    private $statistics: CacheStatistics;\n\n    /**\n     * Create a new instance of the cache clock. You can\n     * pass a configuration object to set the default\n     * options for all cacheable items.\n     *\n     * ```js\n     * const clock = new CacheClock({ ttl: 5 * 60 * 1000 });\n     * ```\n     */\n    constructor(options?: ClockOptions) {\n        this.$birth = timeProvider.now();\n        this.$cache = new Map();\n\n        this.configure(options);\n\n        this.$statistics = Object.assign({}, DEFAULT_STATISTCS);\n\n        if (this.options.autoStart) {\n            this.start();\n        }\n    }\n\n    private prune(): void {\n        this.stop();\n\n        const now = timeProvider.now();\n\n        for (const value of this) {\n            if (value.e <= now) {\n                const entry = this.del(value.k, true);\n\n                if (this.options.onExpire && entry) {\n                    this.options.onExpire(entry);\n                }\n\n                this.$statistics.expired++;\n            }\n        }\n\n        this.start();\n    }\n\n    /**\n     * Create a new instance of the cache clock. You can\n     * pass a configuration object to set the default\n     * options for all cacheable items.\n     *\n     * ```js\n     * const clock = new CacheClock({ ttl: 5 * 60 * 1000 });\n     * ```\n     */\n    static create(options: ClockOptions = {}): CacheClock {\n        return new CacheClock(options);\n    }\n\n    /**\n     * The age of the cache clock in `ms`.\n     */\n    public get age(): number {\n        return timeProvider.now() - this.$birth;\n    }\n\n    /**\n     * The number of items in the cache.\n     */\n    public get size(): number {\n        return this.$cache.size;\n    }\n\n    /**\n     * Global configuration that applies to all cacheable items.\n     */\n    public get options(): ClockOptions {\n        return this.$options;\n    }\n\n    public get stats(): CacheStatistics {\n        return this.$statistics;\n    }\n\n    /**\n     * Whether the clock is currently running.\n     */\n    public get isRunning(): boolean {\n        return !!this.$clock;\n    }\n\n    /**\n     * Configure the cache clock. Use this method to change the global configuration\n     * that applies to all cacheable items.\n     *\n     * Items that have been cached prior to updating the configuration will not be\n     * affected.\n     *\n     * ```js\n     * const clock = new CacheClock();\n     * clock.configure({ ttl: 5 * 60 * 1000 });\n     * ```\n     */\n    public configure(options: ClockOptions = {}): void {\n        this.$options = parseCacheOptions(\n            options,\n            this.options || DEFAULT_CLOCK_OPTIONS\n        );\n\n        debug.DEBUG = this.options.debug;\n\n        if (this.options.interval < DEFAULT_CLOCK_OPTIONS.interval) {\n            debug(\n                \"A cache clock interval less than 15 seconds is not recommended.\",\n                \"yellow\"\n            );\n        }\n    }\n\n    /**\n     * Create a cache key based on the input.\n     */\n    public getCacheKey(input: string): string {\n        return createEntityKey(input, false);\n    }\n\n    /**\n     * Start the cache clock. This is automatically called when the cache clock is created.\n     * You should only need to call this method if you have stopped the cache clock manually.\n     *\n     * This will spawn a new clock with the full timeout interval. This does not resume the\n     * clock from where it left off.\n     */\n    public start(): void {\n        if (this.options.interval === Infinity || this.options.interval === 0) {\n            debug(\n                \"Disabling the clock due to an unsupported interval.\",\n                \"yellow\"\n            );\n            return;\n        }\n\n        if (this.$clock) {\n            debug(\"Cache clock is already running. Unable to start.\", \"red\");\n            return;\n        }\n\n        this.$clock = invokeTimeout(\n            this.prune.bind(this),\n            this.options.interval\n        );\n    }\n\n    /**\n     * Manually stop the cache clock. This will disable the automatic expiration of items. This does\n     * not prevent items from being checked for expiration.\n     */\n    public stop(): void {\n        if (!this.$clock) {\n            debug(\"Cache clock is not running. Unable to stop.\", \"red\");\n            return;\n        }\n\n        clearTimeout(this.$clock);\n        this.$clock = null;\n\n        this.$statistics.lifecycles++;\n    }\n\n    /**\n     * Add an item to the cache. Optionally, you can specify a time to live for the item.\n     *\n     * If the cache is full, the oldest item will be removed.\n     */\n    public set<T>(\n        key: string,\n        value: T,\n        options?: CacheSetterOptions\n    ): CacheEntry<T> {\n        const hashedKey = createEntityKey(key, false);\n\n        const { ttl, overwrite } = parseCacheOptions(options, this.options);\n\n        const clockItem: CacheEntry = {\n            k: hashedKey,\n            v: value,\n            t: ttl,\n            e: timeProvider.now() + ttl\n        };\n\n        const existingEntry = this.get<T>(hashedKey, true);\n\n        if (existingEntry) {\n            if (overwrite) {\n                debug(\n                    `Overwriting existing cache entry for key \"${hashedKey}\".`,\n                    \"yellow\"\n                );\n                this.del(hashedKey, true);\n                this.$statistics.overwrites++;\n            } else {\n                debug(\n                    `Unable to set cache item \"${hashedKey}\". The item already exists.`,\n                    \"red\"\n                );\n                return existingEntry;\n            }\n        }\n\n        if (this.size >= this.options.maxItems) {\n            debug(\"The cache is full, removing oldest item.\", \"yellow\");\n            this.del(this.$cache.keys().next().value, true);\n            this.$statistics.evictions++;\n        }\n\n        this.$cache.set(hashedKey, clockItem);\n        this.$statistics.sets++;\n        return clockItem;\n    }\n\n    /**\n     * Retrieve an item from the cache. This returns the internal\n     * `CacheEntry` used to store the value.\n     */\n    public get<T>(key: string, isHashed: boolean = false): CacheEntry<T> {\n        const hashedKey = createEntityKey(key, isHashed);\n\n        const item = this.$cache.get(hashedKey);\n\n        this.$statistics.hits++;\n\n        if (isUndefined(item)) {\n            this.$statistics.misses++;\n            return undefined;\n        }\n\n        const now = timeProvider.now();\n\n        if (item.e < now) {\n            debug(`Cache item ${key} has expired.`, \"red\");\n            this.del(hashedKey, true);\n            this.$statistics.expired++;\n            return undefined;\n        }\n\n        if (this.options.resetTimeoutOnAccess) {\n            item.e = now + item.t;\n        }\n\n        return item;\n    }\n\n    /**\n     * Deletes an item from the cache. Returns the deleted item\n     * if it exists.\n     */\n    public del<T>(key: string, isHashed: boolean = false): CacheEntry<T> {\n        const hashedKey = createEntityKey(key, isHashed);\n\n        const item = this.$cache.get(hashedKey);\n\n        if (isUndefined(item)) {\n            return undefined;\n        }\n\n        debug(`Deleting cache item ${key}.`, \"green\");\n        this.$cache.delete(hashedKey);\n        this.$statistics.deletes++;\n\n        return item;\n    }\n\n    /**\n     * Returns a boolean indicating whether the cache contains an item.\n     */\n    public has(key: string, isHashed: boolean = false): boolean {\n        const hashedKey = createEntityKey(key, isHashed);\n        const entry = this.get(hashedKey, true);\n\n        return !isUndefined(entry);\n    }\n\n    /**\n     * Wipe the cache clean.\n     */\n    public clear(): void {\n        this.$cache.clear();\n        this.$statistics.clears++;\n    }\n\n    /**\n     * Reset the cache statistics.\n     */\n    public resetStats(): void {\n        this.$statistics = Object.assign({}, DEFAULT_STATISTCS);\n    }\n\n    /**\n     * Returns a JSON representation of the cache.\n     */\n    public toJSON(): CacheEntry[] {\n        return Array.from(this.$cache.values());\n    }\n\n    public [Symbol.iterator](): IterableIterator<CacheEntry> {\n        return this.$cache.values();\n    }\n}\n\n"],"names":["isUndefined","value","isPureObject","Array","isArray","isNumber","isNaN","isFunction","isString","isNegative","absolute","Math","abs","shallowMerge","target","source","Object","assign","stringify","JSON","getCurrentEnvironment","window","document","process","versions","node","environment","colors","red","yellow","green","lightblue","globals","reset","bright","debug","message","color","DEBUG","prefix","colorizedMessage","console","log","hash","input","numberHash","split","reduce","a","b","charCodeAt","toString","timeProvider","Date","DEFAULT_CLOCK_OPTIONS","maxItems","ttl","Infinity","interval","autoStart","overwrite","resetTimeoutOnAccess","invokeTimeout","callback","delay","timeout","global","setTimeout","call","parseCacheOptions","options","defaultOptions","opts","onExpire","undefined","createEntityKey","key","isHashed","DEFAULT_STATISTCS","hits","sets","misses","evictions","expired","deletes","overwrites","clears","lifecycles","Symbol","iterator","CacheClock","$birth","now","$cache","Map","configure","$statistics","start","stop","e","entry","del","k","size","$options","$clock","prune","bind","clearTimeout","hashedKey","clockItem","v","t","existingEntry","get","keys","next","set","item","clear","from","values"],"mappings":"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"}